<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Billing History</title>
  <link rel="stylesheet" href="billhis.css">
</head>
<body>

<div class="stage">
  <div class="container">

    <!-- Battery Icon -->
    <div class="top-icon">
      <svg width="72" height="72" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">
        <g fill="none" stroke="#213d63" stroke-width="2.6" stroke-linecap="round" stroke-linejoin="round">
          <rect x="6" y="10" width="44" height="36" rx="6" ry="6"></rect>
          <rect x="50" y="20" width="4" height="12" rx="1" ry="1"></rect>
          <line x1="16" y1="20" x2="16" y2="46"></line>
          <line x1="26" y1="20" x2="26" y2="46"></line>
          <line x1="36" y1="20" x2="36" y2="46"></line>
          <polyline points="56,8 60,14 56,14 60,22" stroke="#213d63" stroke-width="3"/>
        </g>
      </svg>
    </div>

    <h1 class="title">Billing<br>History</h1>

    <div class="history-table">

      <!-- Header Row -->
      <div class="row head">
        <div>Month</div>
        <div>KWH</div>
        <div>Rate</div>
        <div></div>
        <div>Total</div>
      </div>

      <!-- Rows -->
      <div class="row">
        <input type="text" value="January" disabled>
        <input type="text" value="100" disabled>
        <input type="text" value="₱11.00" disabled>
        <div class="equals">=</div>
        <input type="text" value="₱1,100" disabled>
      </div>

      <div class="row">
        <input type="text" value="February" disabled>
        <input type="text" value="150" disabled>
        <input type="text" value="₱12.00" disabled>
        <div class="equals">=</div>
        <input type="text" value="₱1,800" disabled>
      </div>

      <div class="row">
        <input type="text" value="March" disabled>
        <input type="text" value="200" disabled>
        <input type="text" value="₱12.50" disabled>
        <div class="equals">=</div>
        <input type="text" value="₱2,500" disabled>
      </div>

      <div class="row">
        <input type="text" value="April" disabled>
        <input type="text" value="300" disabled>
        <input type="text" value="₱12.50" disabled>
        <div class="equals">=</div>
        <input type="text" value="₱3,750" disabled>
      </div>

      <div class="row">
        <input type="text" value="May" disabled>
        <input type="text" value="400" disabled>
        <input type="text" value="₱13.00" disabled>
        <div class="equals">=</div>
        <input type="text" value="₱5,200" disabled>
      </div>

      <div id="historyList" class="history-box"></div>

    </div>

    <button class="home-btn" onclick="location.href='home.html'">Home</button>

  </div>
</div>

<script>
let history = JSON.parse(localStorage.getItem("billHistory")) || [];

let box = document.getElementById("historyList");
box.innerHTML = "";

if (history.length === 0) {
  box.innerHTML = "<p>No saved bills yet.</p>";
}

history.forEach(entry => {
  box.innerHTML += `
    <div class="history-item">
      <p><strong>Date:</strong> ${entry.date}</p>
      <p>KWH: ${entry.kwh}</p>
      <p>Rate: ₱${entry.rate}</p>
      <p><strong>Total: ₱${entry.total.toLocaleString()}</strong></p>
      <hr>
    </div>
  `;
});
</script>

</body>
</html>
